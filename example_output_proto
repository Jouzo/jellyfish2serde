message CreateLoanScheme {
  min_col_ratio int64 = 0;
  interest_rate int64 = 1;
  id string = 2;
}

message UpdateLoanScheme {
  min_col_ratio int64 = 0;
  interest_rate int64 = 1;
  id string = 2;
  activate_after_block int64 = 3;
}

message DestroyLoanScheme {
  id string = 0;
  activate_after_block int64 = 1;
}

message LoanSchemeResult {
  id string = 0;
  mincolratio int64 = 1;
  interestrate int64 = 2;
  default bool = 3;
}

message SetCollateralToken {
  token string = 0;
  factor int64 = 1;
  fixed_interval_price_id string = 2;
  activate_after_block int64 = 3;
}

message GetLoanSchemeResult {
  id string = 0;
  interestrate int64 = 1;
  mincolratio int64 = 2;
  default bool = 3;
}

message ListCollateralTokens {
  height int64 = 0;
  all bool = 1;
}

message CollateralTokenDetail {
  token string = 0;
  factor int64 = 1;
  fixed_interval_price_id string = 2;
  activate_after_block int64 = 3;
  token_id string = 4;
}

message SetLoanToken {
  symbol string = 0;
  name string = 1;
  fixed_interval_price_id string = 2;
  mintable bool = 3;
  interest int64 = 4;
}

message LoanConfig {
  fixed_interval_blocks int64 = 0;
  max_price_deviation_pct int64 = 1;
  min_oracles_per_price int64 = 2;
  scheme string = 3;
}

message LoanSummary {
  collateral_tokens int64 = 0;
  collateral_value int64 = 1;
  loan_tokens int64 = 2;
  loan_value int64 = 3;
  open_auctions int64 = 4;
  open_vaults int64 = 5;
  schemes int64 = 6;
}

message GetLoanInfoResult {
  current_price_block int64 = 0;
  next_price_block int64 = 1;
  defaults LoanConfig = 2;
  totals LoanSummary = 3;
}

message UpdateLoanToken {
  symbol string = 0;
  name string = 1;
  fixed_interval_price_id string = 2;
  mintable bool = 3;
  interest int64 = 4;
}

message Interest {
  token string = 0;
  realized_interest_per_block int64 = 1;
  total_interest int64 = 2;
  interest_per_block int64 = 3;
}

message CreateVault {
  owner_address string = 0;
  loan_scheme_id string = 1;
}

message UpdateVault {
  owner_address string = 0;
  loan_scheme_id string = 1;
}

message Vault {
  vault_id string = 0;
  loan_scheme_id string = 1;
  owner_address string = 2;
  state VaultState = 3;
}

message VaultActive {
  collateral_amounts repeated string = 0;
  loan_amounts repeated string = 1;
  interest_amounts repeated string = 2;
  collateral_value int64 = 3;
  loan_value int64 = 4;
  interest_value int64 = 5;
  collateral_ratio int64 = 6;
  informative_ratio int64 = 7;
}

message VaultLiquidation {
  liquidation_height int64 = 0;
  liquidation_penalty int64 = 1;
  batch_count int64 = 2;
  batches repeated VaultLiquidationBatch = 3;
}

message UTXO {
  txid string = 0;
  vout int64 = 1;
}

message DepositVault {
  vault_id string = 0;
  from string = 1;
  amount string = 2;
}

message WithdrawVault {
  vault_id string = 0;
  to string = 1;
  amount string = 2;
}

message PaybackLoanMetadataV2 {
  vault_id string = 0;
  from string = 1;
  loans repeated TokenPaybackAmount = 2;
}

message VaultPagination {
  start string = 0;
  including_start bool = 1;
  limit int64 = 2;
}

message ListVaultOptions {
  owner_address string = 0;
  loan_scheme_id string = 1;
  state VaultState = 2;
  verbose bool = 3;
}

message CloseVault {
  vault_id string = 0;
  to string = 1;
}

message PlaceAuctionBid {
  vault_id string = 0;
  index int64 = 1;
  from string = 2;
  amount string = 3;
}

message AuctionPagination {
  start AuctionPaginationStart = 0;
  including_start bool = 1;
  limit int64 = 2;
}

message AuctionPaginationStart {
  vault_id string = 0;
  height int64 = 1;
}

message VaultLiquidationBatch {
  index int64 = 0;
  collaterals repeated string = 1;
  loan string = 2;
  highest_bid HighestBid = 3;
}

message HighestBid {
  amount string = 0;
  owner string = 1;
}

message ListAuctionHistoryPagination {
  max_block_height int64 = 0;
  vault_id string = 1;
  index int64 = 2;
  limit int64 = 3;
}

message ListAuctionHistoryDetail {
  winner string = 0;
  block_height int64 = 1;
  block_hash string = 2;
  block_time int64 = 3;
  vault_id string = 4;
  batch_index int64 = 5;
  auction_bid string = 6;
  auction_won repeated string = 7;
}

